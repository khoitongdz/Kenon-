-- Global Settings
getgenv().AutoFarm = true -- Enable Auto Farm
getgenv().FastAttack = true -- Enable Fast Attack
getgenv().FixCrash = false -- Optimize performance when changing servers
getgenv().FixCrash2 = false -- Reduce lag but disable some features

-- Custom Logo Settings
getgenv().DisplayLogo = true -- Set to false if you don't want to display the logo
getgenv().LogoText = "Kenon Loading..." -- Text for the loading state
getgenv().LogoLink = "https://example.com" -- URL for the logo link (change to desired link)
getgenv().LogoImageUrl = "https://cdn.discordapp.com/attachments/1305080398400983100/1308677136789278801/th_1.png?ex=6741730f&is=6740218f&hm=612606234a430c812a8e9da3b08024cdeda7e446a8ee193cf035f7bd11a51b9f" -- Logo image URL

-- Script Loader
local url = "https://api.luarmor.net/files/v3/loaders/3b2169cf53bc6104dabe8e19562e5cc2.lua"

-- Display Custom Logo if enabled
if getgenv().DisplayLogo then
    local logo = Instance.new("ScreenGui")
    logo.Name = "KenonLogo"
    logo.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

    -- Image Logo
    local imageLabel = Instance.new("ImageLabel")
    imageLabel.Size = UDim2.new(0, 200, 0, 200) -- Set the size of the logo image
    imageLabel.Position = UDim2.new(0.5, -100, 0.1, 0) -- Center the image
    imageLabel.Image = getgenv().LogoImageUrl -- Set the logo image URL
    imageLabel.BackgroundTransparency = 1
    imageLabel.Parent = logo

    -- Text for Loading State
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(0, 400, 0, 100)
    textLabel.Position = UDim2.new(0.5, -200, 0.4, 0)
    textLabel.Text = getgenv().LogoText
    textLabel.TextSize = 36
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.BackgroundTransparency = 1
    textLabel.TextStrokeTransparency = 0.8
    textLabel.Parent = logo

    -- Making the logo clickable and opening the URL
    imageLabel.MouseButton1Click:Connect(function()
        game:GetService("GuiService"):OpenBrowserWindow(getgenv().LogoLink)
    end)
end

-- To make the loading script faster, we load the external script as quickly as possible.
-- Using `loadstring(game:HttpGet(url))()` to load the script immediately without any other processing.
print("Loading Kenon Hub...") 
spawn(function()
    loadstring(game:HttpGet(url))() -- Load the script as quickly as possible
end)

-- Update logo text after the script starts loading (using `spawn` to avoid blocking execution)
spawn(function()
    -- Update the logo text after loading begins
    if getgenv().DisplayLogo then
        local logo = game.Players.LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild("KenonLogo")
        if logo then
            local textLabel = logo:FindFirstChild("TextLabel")
            if textLabel then
                textLabel.Text = "Kenon Hub Loaded!" -- Change text after loading
            end
        end
    end
end)
