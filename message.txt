-- Kenon Hub - Auto Fly, Auto Gather, and Auto Attack Monsters

-- Display Script Information
print([[
██╗  ██╗███████╗ █████╗ ███╗   ██╗
██║  ██║██╔════╝██╔══██╗████╗  ██║
███████║█████╗  ███████║██╔██╗ ██║
██╔══██║██╔══╝  ██╔══██║██║╚██╗██║
██║  ██║███████╗██║  ██║██║ ╚████║
╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═╝  ╚═══╝
]])

print("🔥 Kenon Hub - Auto Fly, Auto Gather, Auto Attack Monsters 🔥")

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.Name = "KenonHub"

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 500, 0, 500)
mainFrame.Position = UDim2.new(0.5, -250, 0.5, -250)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.Parent = ScreenGui

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(0, 500, 0, 50)
titleLabel.Text = "Kenon Hub - Auto Farm"
titleLabel.TextSize = 24
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.BackgroundTransparency = 1
titleLabel.Parent = mainFrame

-- Tabs setup
local tabFrame = Instance.new("Frame")
tabFrame.Size = UDim2.new(0, 500, 0, 40)
tabFrame.Position = UDim2.new(0, 0, 0, 50)
tabFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
tabFrame.Parent = mainFrame

local farmTab = Instance.new("TextButton")
farmTab.Size = UDim2.new(0, 250, 0, 40)
farmTab.Position = UDim2.new(0, 0, 0, 0)
farmTab.Text = "Auto Farm"
farmTab.TextSize = 18
farmTab.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
farmTab.TextColor3 = Color3.fromRGB(255, 255, 255)
farmTab.Parent = tabFrame

local levelTab = Instance.new("TextButton")
levelTab.Size = UDim2.new(0, 250, 0, 40)
levelTab.Position = UDim2.new(0.5, 0, 0, 0)
levelTab.Text = "Auto Farm by Level"
levelTab.TextSize = 18
levelTab.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
levelTab.TextColor3 = Color3.fromRGB(255, 255, 255)
levelTab.Parent = tabFrame

-- Auto Farm and Auto Farm by Level Toggles
local startAutoFarm = Instance.new("TextButton")
startAutoFarm.Size = UDim2.new(0, 200, 0, 50)
startAutoFarm.Position = UDim2.new(0, 0, 0, 100)
startAutoFarm.Text = "Start Auto Farm"
startAutoFarm.TextSize = 18
startAutoFarm.BackgroundColor3 = Color3.fromRGB(0, 128, 0)
startAutoFarm.TextColor3 = Color3.fromRGB(255, 255, 255)
startAutoFarm.Parent = mainFrame

local stopAutoFarm = Instance.new("TextButton")
stopAutoFarm.Size = UDim2.new(0, 200, 0, 50)
stopAutoFarm.Position = UDim2.new(0, 0, 0, 160)
stopAutoFarm.Text = "Stop Auto Farm"
stopAutoFarm.TextSize = 18
stopAutoFarm.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
stopAutoFarm.TextColor3 = Color3.fromRGB(255, 255, 255)
stopAutoFarm.Parent = mainFrame

-- Variables
local xp = 0
local level = 1
local autoFarming = false
local autoFarmingByLevel = false
local autoHakiEnabled = true  -- Default value to enable Haki
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Function to find the nearest monster spawn point
local function findNearestSpawnPoint()
    local nearestSpawn = nil
    local shortestDistance = math.huge
    for _, spawnPoint in pairs(game.Workspace.SpawnPoints:GetChildren()) do
        if spawnPoint:IsA("Part") then
            local distance = (character.HumanoidRootPart.Position - spawnPoint.Position).Magnitude
            if distance < shortestDistance then
                shortestDistance = distance
                nearestSpawn = spawnPoint
            end
        end
    end
    return nearestSpawn
end

-- Function to fly to the nearest spawn point using Pathfinding
local function flyToNearestSpawnPoint()
    local targetSpawn = findNearestSpawnPoint()
    if targetSpawn then
        local path = game:GetService("PathfindingService"):CreatePath({
            AgentRadius = 2,
            AgentHeight = 5,
            AgentCanJump = true,
            AgentJumpHeight = 10,
            AgentMaxSlope = 45,
        })
        path:ComputeAsync(character.HumanoidRootPart.Position, targetSpawn.Position)
        path:MoveTo(character)
        
        -- Wait until the path is completed
        while path.Status ~= Enum.PathStatus.Complete do
            wait(0.5)
        end
    end
end

-- Function to gather monsters around the spawn point and attack
local function gatherAndAttackMonsters()
    while autoFarming do
        wait(1)
        flyToNearestSpawnPoint()  -- Fly to the nearest spawn point

        -- Look for monsters within the gathered spawn area
        local monsters = {}
        for _, monster in pairs(game.Workspace.Enemies:GetChildren()) do
            if monster:FindFirstChild("HumanoidRootPart") and monster:FindFirstChild("Humanoid") then
                table.insert(monsters, monster)
            end
        end

        -- Attack all gathered monsters
        for _, monster in pairs(monsters) do
            -- Attack logic (assuming the attack function is defined)
            game.ReplicatedStorage:WaitForChild("RemoteEvent"):FireServer("Attack", monster)
            xp = xp + 10  -- Example XP gain
            if xp >= level * 100 then
                level = level + 1
                xp = 0
            end
        end
    end
end

-- Start Auto Farm
startAutoFarm.MouseButton1Click:Connect(function()
    autoFarming = true
    gatherAndAttackMonsters()  -- Start the auto fly, gather, and attack loop
end)

-- Stop Auto Farm
stopAutoFarm.MouseButton1Click:Connect(function()
    autoFarming = false
end)

-- Additional functions and features can be added here, such as auto-haki, server checks, etc.

